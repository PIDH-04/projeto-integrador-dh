<!DOCTYPE html>
<html lang="pt-BR">
  <%- include("partials/adminHead", {css: ["baseAdmin.css",
  "adminAddProduto.css", "adminAddUsuario.css", "deleteModal.css"], titulo: "Editar Usuario | E-móvel"}) %>
  <body class="admin-container">
    <%- include("partials/adminHeader") %>
    <%- include("partials/topoPg") %>
    <main class="">
      <h1>Editar <%= usuario.nome %></h1>
      <a href="/admin/usuarios" class="retornar-pagina">
        <img src="/img/voltar.svg" />
        Voltar para usuários
      </a>

      <div class="header-produto">
        <h2>Dados do Usuário</h2>
      </div>

      <% if(feedbackEdicao !== undefined){ %>

        <div class="<%= feedbackEdicao == 'true' ? 'sucesso' : 'erros' %>">
          <%= feedbackEdicao == 'true' ? 'Usuário salvo' : 'Erro ao salvar usuário, tente novamente mais tarde' %>
        </div>

      <% } %>

      <form action="/admin/usuarios/<%= usuario.id %>/editar?_method=PUT" method="POST" id="novo-produto-form">
        <div class="duas-colunas">
          <div>
            <label for="nome">Nome do Usuário</label>
            <input
              type="text"
              name="nome"
              id="nome"
              placeholder="Nome do usuário"
              value="<%= usuario.nome %>"
            />
            <p class="erro-valor" id="erro-nome"></p>

            <label for="email">E-mail (não é possível altera-lo)</label>
            <input
              type="email"
              name="email"
              id="email"
              placeholder="Novo produto"
              value="<%= usuario.email %>"
              disabled
            />
          </div>

          <div>
            
            <label for="senha">Nova Senha</label>
            <input
              type="password"
              name="senha"
              id="senha"
              placeholder="Adiciona nova senha"
            />
            <p class="erro-valor" id="erro-senha"></p>
            
            <label for="confirma-senha">Confirmar nova senha</label>
            <input
              type="password"
              name="confirma-senha"
              id="confirmaSenha"
              placeholder="Confirme a nova senha"
            />
            <p class="erro-valor" id="erro-confirma-senha"></p>
        </div>
        </div>
      </form>
      
      
      <div class="container-botoes">
        <button class="botao-secundario" type="submit" form="novo-produto-form">Salvar</button>
        <button class='delete-btn botao-secundario'>
          Remover
        </button>
        <%- include("partials/deleteModal", {
          action: `/admin/usuarios/${usuario.id}/delete?_method=DELETE`}) 
        %>
      </div>
    </main>
    <script src="/scripts/deleteModal.js"></script>
    <script src="/scripts/adminEditarUsuario.js"></script>
  </body>
</html>
